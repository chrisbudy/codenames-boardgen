<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Codenames Board Generator</title>
        <style>
            #board {
                
            }
            .card {
                padding: 5px;
                width: 100px;
                border: 1px solid #000;
                text-align: center;
            }
            #string {
                margin-top: 10px;
            }
        </style>
        <script src="seedrandom.min.js">
        </script>
        <script>
            let wordOptions = 'Hollywood,Well,Foot,New York,Spring,Court,Tube,Point,Tablet,Slip,Date,Drill,Lemon,Bell,Screen,Fair,Torch,State,Match,Iron,Block,France,Australia,Limousine,Stream,Glove,Nurse,Leprechaun,Play,Tooth,Arm,Bermuda,Diamond,Whale,Comic,Mammoth,Green,Pass,Missile,Paste,Drop,Pheonix,Marble,Staff,Figure,Park,Centaur,Shadow,Fish,Cotton,Egypt,Theater,Scale,Fall,Track,Force,Dinosaur,Bill,Mine,Turkey,March,Contract,Bridge,Robin,Line,Plate,Band,Fire,Bank,Boom,Cat,Shot,Suit,Chocolate,Roulette,Mercury,Moon,Net,Lawyer,Satellite,Angel,Spider,Germany,Fork,Pitch,King,Trip,Dog,Conductor,Part,Bugle,Witch,Ketchup,Press,Spine,Worm,Alps,Bond,Pan,Beijing,Racket,Cross,Seal,Aztec,Maple,Parachute,Hotel,Berry,Soldier,Ray,Post,Greece,Square,Mass,Bat,Wave,Car,Smuggler,England,Crash,Tail,Card,Horn,Capital,Fence,Deck,Buffalo,Microscope,Jet,Duck,Ring,Train,Field,Gold,Tick,Check,Queen,Strike,Kangaroo,Spike,Scientist,Engine,Shakespeare,Wind,Kid,Embassy,Robot,Note,Ground,Draft,Ham,War,Mouse,Center,Chick,China,Bolt,Spot,Piano,Pupil,Plot,Lion,Police,Head,Litter,Concert,Mug,Vacuum,Atlantis,Straw,Switch,Skyscraper,Laser,Scuba Diver,Africa,Plastic,Dwarf,Lap,Life,Honey,Horseshoe,Unicorn,Spy,Pants,Wall,Paper,Sound,Ice,Tag,Web,Fan,Orange,Temple,Canada,Scorpion,Undertaker,Mail,Europe,Soul,Apple,Pole,Tap,Mouth,Ambulance,Dress,Ice Cream,Rabbit,Buck,Agent,Sock,Nut,Boot,Ghost,Oil,Superhero,Code,Kiwi,Hospital,Saturn,Film,Button,Snowman,Helicopter,Loch Ness,Log,Princess,Time,Cook,Revolution,Shoe,Mole,Spell,Grass,Washer,Game,Beat,Hole,Horse,Pirate,Link,Dance,Fly,Pit,Server,School,Lock,Brush,Pool,Star,Jam,Organ,Berlin,Face,Luck,Amazon,Cast,Gas,Club,Sink,Water,Chair,Shark,Jupiter,Copper,Jack,Platypus,Stick,Olive,Grace,Bear,Glass,Row,Pistol,London,Rock,Van,Vet,Beach,Charge,Port,Disease,Palm,Moscow,Pin,Washington,Pyramid,Opera,Casino,Pilot,String,Night,Chest,Yard,Teacher,Pumpkin,Thief,Bark,Bug,Mint,Cycle,Telescope,Calf,Air,Box,Mount,Thumb,Antactica,Trunk,Snow,Penguin,Root,Bar,File,Hawk,Battery,Compound,Slug,Octopus,Whip,America,Ivory,Pound,Sub,Cliff,Lab,Eagle,Genious,Ship,Dice,Hood,Heart,Novel,Pipe,Himalayas,Crown,Round,India,Needle,Shop,Watch,Lead,Tie,Table,Cell,Cover,Czech,Back,Bomb,Ruler,Forest,Bottle,Space,Hook,Doctor,Ball,Bow,Degree,Rome,Plane,Giant,Nail,Dragon,Stadium,Flute,Carrot,Wake,Fighter,Model,Tokyo,Eye,Mexico,Hand,Swing,Key,Alien,Tower,Poison,Cricket,Cold,Knife,Church,Board,Cloak,Ninja,Olympus,Belt,Light,Death,Stock,Millionarie,Day,Knight,Pie,Bed,Circle,Rose,Change,Cap,Triangle';
            wordOptions = wordOptions.split(',');
            let generateButton, generateFromSeed;

            document.addEventListener("DOMContentLoaded", function() {
                generateButton = document.getElementById('generate');
                generateButton.onclick = drawBoard;

                generateFromSeedButton = document.getElementById('generateFromSeed');
                generateFromSeedButton.onclick = () => {
                    let userSeed = document.getElementById('userSeed').value;
                    drawBoard(userSeed);
                };
            });

            function fisherYates(myArray, nb_picks, seed) {
                const rng = new Math.seedrandom(seed);
                const tempArray = myArray.slice();
                for (i = tempArray.length-1; i > 1  ; i--)
                {
                    var r = Math.floor(rng()*i);
                    var t = tempArray[i];
                    tempArray[i] = tempArray[r];
                    tempArray[r] = t;
                }

                return tempArray.slice(0,nb_picks);
            }

            function drawBoard(userSeed) {
                // reset board
                let seed = Math.ceil(Math.random() * 100000);
                if (userSeed && typeof userSeed != 'object') {
                    seed = userSeed;
                }
                let board = document.getElementById('board');
                board.innerHTML = '';

                const boardWords = fisherYates(wordOptions, 25, seed);
                let boardString = '';
                const itemsPerRow = 5;

                let row = -1;

                let boardLayout = [];

                for (let i = 0; i < boardWords.length; i++) {
                    const word = boardWords[i];
                    if(i % itemsPerRow == 0) {
                        row++;
                        boardLayout[row] = document.createElement('tr');
                    }
                    let card = document.createElement('td');
                    card.classList.add('card');
                    card.innerHTML = word;
                    if (boardString.length > 0) boardString += ',';
                    boardString += wordOptions.indexOf(word);
                    boardLayout[row].appendChild(card);
                }

                boardLayout.forEach(row => {
                    board.appendChild(row);
                });
                console.log(seed);
                document.getElementById('string').innerHTML = `<strong>Board Link</strong>: ${seed}`;
            }
        </script>
    </head>
    <body>
        <h1>Board Generator</h1>
        <button id="generate">Generate New Board</button>
        <input type="text" id="userSeed" placeholder="Enter a board seed to load"><button id="generateFromSeed">Build from link</button>
        <hr>
        <table id="board">
            
        </table>
        <div id="string"></div>
    </body>
</html>